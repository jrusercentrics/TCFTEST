<!DOCTYPE html>
<html lang="en">
<head>

  <script id="usercentrics-cmp" src="https://app.usercentrics.eu/browser-ui/latest/loader.js" data-settings-id="qb68st2FBJbSzx" data-tcf-enabled async></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width" , initial-scale="1.0">
    <title>My CMP v2 Testpage</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<!-- End Google Tag Manager -->
  </head>
 

    
  
</head>
<body>
GLOBEX
<a href="#" class="btn btn-primary">stay here</a>
<a href="https://www.cnn.com" class="btn btn-primary">go to an external page</a>
    <h1>Usercentrics CMP V2 Test Page</h1>
    <img id="imgbtn" src="https://usercentrics.com/wp-content/uploads/2020/04/190208-UCS-Logo-800px.png" alt="uc-logo">
</body>
<script>
  (function checkConsentAndListen() {
  // Executa logo que possível (caso o consentimento já tenha sido dado)
  __tcfapi('getTCData', 2, function (tcData, success) {
    if (success) handleTCFConsent(tcData);
  });

  // Escuta futuras alterações (se o banner ainda estiver visível)
  __tcfapi('addEventListener', 2, function (tcData, success) {
    if (success) handleTCFConsent(tcData);
  });

  function handleTCFConsent(tcData) {
    const consents = tcData.vendor?.consents || {};
    const hasConsentForGlomexGVL = consents[967] === true;

    console.log("[TCF] Consent for vendor 967:", hasConsentForGlomexGVL);
    if (hasConsentForGlomexGVL) {
      // Aqui colocas o que deve acontecer, ex: mostrar player
      console.log("[ACTION] Mostrar player!");
    } else {
      console.log("[ACTION] Esconder player!");
    }
  }

  console.log("[INIT] Consent check started...");
})();

</script>
</html>
